name: ATR_CCI
description: ATR volatility filter with CCI momentum - enters when CCI oversold and volatility rising
complexity: SIMPLE
parameterMessageType: com.verlumen.tradestream.strategies.AtrCciParameters

indicators:
  - id: atr
    type: ATR
    params:
      period: "${atrPeriod}"
  - id: cci
    type: CCI
    params:
      period: "${cciPeriod}"
  - id: previousAtr
    type: PREVIOUS
    input: atr
    params:
      n: 1

entryConditions:
  - type: OVER_CONSTANT
    indicator: cci
    params:
      threshold: -100
  - type: OVER
    indicator: atr
    params:
      other: previousAtr

exitConditions:
  - type: UNDER_CONSTANT
    indicator: cci
    params:
      threshold: 100
  - type: UNDER
    indicator: atr
    params:
      other: previousAtr

parameters:
  - name: atrPeriod
    type: INTEGER
    min: 7
    max: 21
    defaultValue: 14
  - name: cciPeriod
    type: INTEGER
    min: 14
    max: 28
    defaultValue: 20
